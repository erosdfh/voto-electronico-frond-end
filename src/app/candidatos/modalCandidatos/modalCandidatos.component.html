<p-dialog header="{{titulo}} Candidato" [(visible)]="isVisible" styleClass="atributos" [baseZIndex]="10000"
  [closable]="false" [modal]="true" appendTo="body">
  <div mat-dialog-content>
    <form class="example-form" [formGroup]="formGroupParent">
      <div class="section">
        <mat-form-field appearance="outline" class="example-full-width">
          <mat-label>Nombres y Apellidos</mat-label>
          <input matInput formControlName="nombreApellido">
        </mat-form-field>
        <img *ngIf="dataItems.titulo == 'Editar'" src="{{dataItems.e.image}}" width="32" height="32" style="vertical-align: middle; margin-top: 19px; margin-left: 12px;" />
        <img *ngIf="dataItems.titulo == 'Ver'" src="{{dataItems.e.image}}" width="55" height="55" style="vertical-align: middle; margin-top: 7px; margin-left: 12px;" />
        <div *ngIf="dataItems.titulo == 'Editar' || dataItems.titulo == 'Nuevo'" class="container-input" style="text-align: center; margin-top: 12px;">
          <input type="file" (change)="capturarFoto($event)" name="file-1" id="file-1" class="inputfile inputfile-1" formControlName="foto" >
          <label for="file-1">
            <svg xmlns="http://www.w3.org/2000/svg" class="iborrainputfile" width="20" height="17" viewBox="0 0 20 17">
              <path
                d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z">
              </path>
            </svg>
            <span *ngIf="this.formGroupParent.value.foto?.length == 0" class="iborrainputfile">Seleccionar imagen</span>
            <span *ngIf="this.formGroupParent.value.foto?.length > 0" class="iborrainputfile">{{this.formGroupParent.value?.foto.substring(12,100)}}</span>
          </label>
        </div>
        <!--mat-form-field appearance="outline">
          <mat-label>Agregar Img</mat-label>
          <ngx-mat-file-input  >
            <mat-icon ngxMatFileInputIcon>folder</mat-icon>
          </ngx-mat-file-input>
        </!--mat-form-field-->
      </div>
      <div class="section">
        <mat-form-field appearance="outline" class="example-full-width">
          <mat-label>Partido Politico</mat-label>
          <input matInput formControlName="partidoPoli">
        </mat-form-field>
        <img *ngIf="dataItems.titulo == 'Editar'" src="{{dataItems.e.logo}}" width="32" height="32" style="vertical-align: middle; margin-top: 19px; margin-left: 12px;" />
        <img *ngIf="dataItems.titulo == 'Ver'" src="{{dataItems.e.logo}}" width="55" height="55" style="vertical-align: middle; margin-top: 7px; margin-left: 12px;" />
        <div *ngIf="dataItems.titulo == 'Editar' || dataItems.titulo == 'Nuevo'" class="container-input" style="text-align: center; margin-top: 12px;">
          <input type="file"  (change)="capturarLogo($event)" name="file-2" id="file-2" class="inputfile inputfile-1" formControlName="logo">
          <label for="file-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="iborrainputfile" width="20" height="17" viewBox="0 0 20 17">
              <path
                d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z">
              </path>
            </svg>
            <span *ngIf="this.formGroupParent.value?.logo.length == 0" class="iborrainputfile">Seleccionar imagen</span>
            <span *ngIf="this.formGroupParent.value?.logo.length > 0" class="iborrainputfile">{{this.formGroupParent.value?.logo.substring(12,100)}}</span>
          </label>
        </div>
        <!--mat-form-field appearance="outline" >
          <mat-label>Agregar Img</mat-label>
          <ngx-mat-file-input formControlName="logo">
            <mat-icon ngxMatFileInputIcon>folder</mat-icon>
          </ngx-mat-file-input>
        </!--mat-form-field-->
      </div>
      <div >
        <mat-form-field class="example-full-width" appearance="outline">
          <mat-label>Observacion</mat-label>
          <textarea matInput formControlName="observacion"></textarea>
        </mat-form-field>
      </div>
    </form>

      <div  *ngFor="let nitem of formGroupParent.get('regidores')['controls']; let nindex = index;">
        <div  style="margin-top: -19px; margin-left: 34%; " [align]="'center'">
          <button mat-icon-button *ngIf="nindex>0" (click)="eliminarR(nindex)" [disabled]="verBotonEliminarAgregar">Eliminar <mat-icon color="primary">delete</mat-icon>
          </button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          <button mat-icon-button (click)="agregarRegidor()" [disabled]="verBotonEliminarAgregar">&nbsp;&nbsp;&nbsp;&nbsp; Agregar Regidor <mat-icon color="primary">
              add</mat-icon></button>

        </div>
        <div >
        <ng-container [formGroup]="nitem">
        <mat-form-field appearance="outline" style="width: 100%;  margin: -8px;">
          <mat-label>Nombres y Apellidos</mat-label>
          <input matInput [formControlName]="'nombreApellidoRegidor'">
        </mat-form-field>
        <mat-form-field appearance="outline" style="width: 100%;  margin: -10px;">
          <mat-label>Cargo</mat-label>
          <input matInput [formControlName]="'cargo'">
        </mat-form-field>
        </ng-container>
      </div>
    </div>

  </div>
  <ng-template pTemplate="footer">
    <div class="example-button-row" style="text-align: end; margin-bottom: -10px;">
      <button mat-raised-button color="primary" (click)="accion()">Aceptar</button>
      <button mat-raised-button color="warn" (click)="closeModal()">Cancelar</button>
    </div>
</ng-template>
<ngx-spinner type = "square-jelly-box" ><p style="color: white" > Loading... </p></ngx-spinner>
</p-dialog>
